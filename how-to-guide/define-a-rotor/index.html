<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>How to Define a Custom Rotor · FLOWUnsteady</title><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../"><img src="../../assets/logo.png" alt="FLOWUnsteady logo"/></a><div class="docs-package-name"><span class="docs-autofit">FLOWUnsteady</span></div><form class="docs-search" action="../../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../../">Home</a></li><li><span class="tocitem">Tutorials</span><ul><li><a class="tocitem" href="../../tutorials/getting-started/">Getting Started</a></li><li><a class="tocitem" href="../../tutorials/first-steps/">First Steps</a></li><li><a class="tocitem" href="../../tutorials/aeroacoustics/">Aeroacoustic Noise Analysis</a></li><li><a class="tocitem" href="../../tutorials/colab/">FLOWUnsteady in Colab</a></li></ul></li><li><span class="tocitem">How to </span><ul><li><a class="tocitem" href="../paraview-visualization/">Visualize with Paraview</a></li><li><a class="tocitem" href="../define-complex-wings/">How to define Complex Wings</a></li><li><a class="tocitem" href="../define-complex-systems/">How to Define Vehicle Systems</a></li><li class="is-active"><a class="tocitem" href>How to Define a Custom Rotor</a><ul class="internal"><li><a class="tocitem" href="#Creating-a-Custom-Rotor"><span>Creating a Custom Rotor</span></a></li><li><a class="tocitem" href="#Rotor-Database-Structure"><span>Rotor Database Structure</span></a></li><li><a class="tocitem" href="#Creating-Custom-Database-Files"><span>Creating Custom Database Files</span></a></li></ul></li><li><a class="tocitem" href="../define-kinematic-maneuvers/">How to Define Kinematic Maneuvers</a></li><li><a class="tocitem" href="../set-up-runtime-functions/">How to Set up Run-time Functions</a></li><li><a class="tocitem" href="../select-a-solver/">Select a Solver</a></li><li><a class="tocitem" href="../wake-stability/">How to Approach Wake Stability Issues</a></li></ul></li><li><span class="tocitem">Reference</span><ul><li><a class="tocitem" href="../../reference/FLOWVLMfunctions/">Functions Contained in FLOWVLM</a></li><li><a class="tocitem" href="../../reference/VPMfunctions/">Functions Contained in MyVPM</a></li><li><a class="tocitem" href="../../reference/FLOWUnsteadyfunctions/">Functions Contained in FLOWUnsteady</a></li></ul></li><li><span class="tocitem">Theory</span><ul><li><a class="tocitem" href="../../theory/FLOWVLMtheory/">FLOWVLM</a></li><li><a class="tocitem" href="../../theory/VPMtheory/">Vortex Particle Method</a></li><li><a class="tocitem" href="../../theory/FLOWUnsteadytheory/">FLOWUnsteady</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">How to </a></li><li class="is-active"><a href>How to Define a Custom Rotor</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>How to Define a Custom Rotor</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/byuflowlab/FLOWUnsteady/blob/master/docs/src/how-to-guide/define-a-rotor.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="How-to-Define-a-Custom-Rotor"><a class="docs-heading-anchor" href="#How-to-Define-a-Custom-Rotor">How to Define a Custom Rotor</a><a id="How-to-Define-a-Custom-Rotor-1"></a><a class="docs-heading-anchor-permalink" href="#How-to-Define-a-Custom-Rotor" title="Permalink"></a></h1><p>It is likely that the rotors defined in the repository database do not match your needs, in that case, you will need to provide all of the information to define the rotor in a series of files. The files must be defined in the correct format and directory structure for FlowUnsteady to find it all. If you are unfamiliar with creating file trees, we suggest adding your files directly to the correct directories, however a seperate file structure can easily be used.</p><h2 id="Creating-a-Custom-Rotor"><a class="docs-heading-anchor" href="#Creating-a-Custom-Rotor">Creating a Custom Rotor</a><a id="Creating-a-Custom-Rotor-1"></a><a class="docs-heading-anchor-permalink" href="#Creating-a-Custom-Rotor" title="Permalink"></a></h2><p>If you do not already have the rotor files to describe your rotor, then you will need to create them. Here we will go through each file type and what to put in them. It is important to note that file name and types are not important, however they must be comma delimited.  We will use the DJI-II from the FLOWUnsteady database as an example.</p><p>It is important to note that if XFOIL is not run (marked false), then airfoil polars must be provided. The files that affect solution outcome are the chord distribution, pitch distribution, leading edge distribution, and airfoil polar files. If XFOIL is marked to run, all of the geometric material must be accurate.</p><p>Below, we describe the files (and give the default file name), their contents, and provide code that can be used to create them.</p><h3 id="Main-File-(e.g.-data/rotors/DJI-II.csv)"><a class="docs-heading-anchor" href="#Main-File-(e.g.-data/rotors/DJI-II.csv)">Main File (e.g. data/rotors/DJI-II.csv)</a><a id="Main-File-(e.g.-data/rotors/DJI-II.csv)-1"></a><a class="docs-heading-anchor-permalink" href="#Main-File-(e.g.-data/rotors/DJI-II.csv)" title="Permalink"></a></h3><p>The main file describes the overall rotor, and points to the blade file that describes one of the blades.</p><table><tr><th style="text-align: right">property</th><th style="text-align: right">file</th><th style="text-align: right">description</th></tr><tr><td style="text-align: right">Rtip</td><td style="text-align: right">0.12</td><td style="text-align: right">(m) Radius of blade tip</td></tr><tr><td style="text-align: right">Rhub</td><td style="text-align: right">0.00823</td><td style="text-align: right">(m) Radius of hub</td></tr><tr><td style="text-align: right">B</td><td style="text-align: right">2</td><td style="text-align: right">Number of blades</td></tr><tr><td style="text-align: right">blade</td><td style="text-align: right">DJI-II_blade.csv</td><td style="text-align: right">Blade file</td></tr></table><h3 id="Blade-File-(e.g.-data/rotors/DJI-II_blade.csv)"><a class="docs-heading-anchor" href="#Blade-File-(e.g.-data/rotors/DJI-II_blade.csv)">Blade File (e.g. data/rotors/DJI-II_blade.csv)</a><a id="Blade-File-(e.g.-data/rotors/DJI-II_blade.csv)-1"></a><a class="docs-heading-anchor-permalink" href="#Blade-File-(e.g.-data/rotors/DJI-II_blade.csv)" title="Permalink"></a></h3><p>This file contains file names for the various blade definition parameters as well as parameters for spline definitions.</p><table><tr><th style="text-align: right">property</th><th style="text-align: right">file</th><th style="text-align: right">description</th></tr><tr><td style="text-align: right">chorddist</td><td style="text-align: right">DJI-II_chorddist.csv</td><td style="text-align: right">Chord distribution</td></tr><tr><td style="text-align: right">pitchdist</td><td style="text-align: right">DJI-II_pitchdist.csv</td><td style="text-align: right">Pitch distribution</td></tr><tr><td style="text-align: right">sweepdist</td><td style="text-align: right">DJI-II_sweepdist.csv</td><td style="text-align: right">LE sweep distribution</td></tr><tr><td style="text-align: right">heightdist</td><td style="text-align: right">DJI-II_heightdist.csv</td><td style="text-align: right">LE height distribution</td></tr><tr><td style="text-align: right">airfoil_files</td><td style="text-align: right">DJI-II_airfoils.csv</td><td style="text-align: right">Airfoil distribution</td></tr><tr><td style="text-align: right">spl_k</td><td style="text-align: right">1</td><td style="text-align: right">Spline order</td></tr><tr><td style="text-align: right">spl_s</td><td style="text-align: right">2.0e-7</td><td style="text-align: right">Spline smoothing</td></tr></table><h3 id="Chord-Distribution-File-(e.g.-data/rotors/DJI-II_chorddist.csv)"><a class="docs-heading-anchor" href="#Chord-Distribution-File-(e.g.-data/rotors/DJI-II_chorddist.csv)">Chord Distribution File (e.g. data/rotors/DJI-II_chorddist.csv)</a><a id="Chord-Distribution-File-(e.g.-data/rotors/DJI-II_chorddist.csv)-1"></a><a class="docs-heading-anchor-permalink" href="#Chord-Distribution-File-(e.g.-data/rotors/DJI-II_chorddist.csv)" title="Permalink"></a></h3><p>This file provides the distribution of the chord along the blade, normalized by the tip radius of the blade. The file must go in order from root to tip. The root need not be defined, but the tip must be. The file can have any number of paired numbers. Any values used by the solver that are not provided will be interpolated.</p><table><tr><th style="text-align: right">r/R</th><th style="text-align: right">c/R</th></tr><tr><td style="text-align: right">0.0411523</td><td style="text-align: right">0.121011</td></tr><tr><td style="text-align: right">0.0685871</td><td style="text-align: right">0.138171</td></tr><tr><td style="text-align: right">...</td><td style="text-align: right">...</td></tr><tr><td style="text-align: right">1.0</td><td style="text-align: right">0.0978361</td></tr></table><h3 id="Pitch-Distribution-File-(e.g.-data/rotors/DJI-II_pitchdist.csv)"><a class="docs-heading-anchor" href="#Pitch-Distribution-File-(e.g.-data/rotors/DJI-II_pitchdist.csv)">Pitch Distribution File (e.g. data/rotors/DJI-II_pitchdist.csv)</a><a id="Pitch-Distribution-File-(e.g.-data/rotors/DJI-II_pitchdist.csv)-1"></a><a class="docs-heading-anchor-permalink" href="#Pitch-Distribution-File-(e.g.-data/rotors/DJI-II_pitchdist.csv)" title="Permalink"></a></h3><p>This file describes the twist of the blade along the blade. The file can have any number of paired numbers. Any values used by the solver that are not provided will be interpolated.</p><table><tr><th style="text-align: right">r/R</th><th style="text-align: right">twist (deg)</th></tr><tr><td style="text-align: right">0.0411523</td><td style="text-align: right">16.4567</td></tr><tr><td style="text-align: right">0.0685871</td><td style="text-align: right">17.5</td></tr><tr><td style="text-align: right">...</td><td style="text-align: right">...</td></tr><tr><td style="text-align: right">1.0</td><td style="text-align: right">11.6</td></tr></table><h3 id="Sweep-Distribution-File-(e.g.-data/rotors/DJI-II_sweepdist.csv)"><a class="docs-heading-anchor" href="#Sweep-Distribution-File-(e.g.-data/rotors/DJI-II_sweepdist.csv)">Sweep Distribution File (e.g. data/rotors/DJI-II_sweepdist.csv)</a><a id="Sweep-Distribution-File-(e.g.-data/rotors/DJI-II_sweepdist.csv)-1"></a><a class="docs-heading-anchor-permalink" href="#Sweep-Distribution-File-(e.g.-data/rotors/DJI-II_sweepdist.csv)" title="Permalink"></a></h3><p>This file describes the sweep distribution. This is also known as the leading edge distribution, it describes the distance of the the leading edge from a line coming from the center of the hub. These lines change depending on how many blades are included on a rotor (see photo below for example of a the rotor with 3 blades). The file can have any number of paired numbers. Any values used by the solver that are not provided will be interpolated.</p><img src="../assets/howtofigs/sweepdist.png" alt="sweepdist" style="zoom:33%;" /><table><tr><th style="text-align: right">r/R</th><th style="text-align: right">y/R (y-distance of LE from the middle point of hub)</th></tr><tr><td style="text-align: right">0.0411523</td><td style="text-align: right">0.0576211</td></tr><tr><td style="text-align: right">0.0685871</td><td style="text-align: right">0.0605955</td></tr><tr><td style="text-align: right">...</td><td style="text-align: right">...</td></tr><tr><td style="text-align: right">1.0</td><td style="text-align: right">0.0344412</td></tr></table><h3 id="Height-Distribution-File-(e.g.-data/rotors/DJI-II_heightdist.csv)"><a class="docs-heading-anchor" href="#Height-Distribution-File-(e.g.-data/rotors/DJI-II_heightdist.csv)">Height Distribution File (e.g. data/rotors/DJI-II_heightdist.csv)</a><a id="Height-Distribution-File-(e.g.-data/rotors/DJI-II_heightdist.csv)-1"></a><a class="docs-heading-anchor-permalink" href="#Height-Distribution-File-(e.g.-data/rotors/DJI-II_heightdist.csv)" title="Permalink"></a></h3><p>This file describes the height distribution, also known as anhedral (or precode for turbines). This describes the height of the leading edge from the top face of the hub. The file can have any number of paired numbers. Any values used by the solver that are not provided will be interpolated.</p><img src="../assets/howtofigs/precone.png" alt="precone" width="400" /><table><tr><th style="text-align: right">r/R</th><th style="text-align: right">z/R (height of LE from the top face of hub)</th></tr><tr><td style="text-align: right">0.0686391</td><td style="text-align: right">-0.00242965</td></tr><tr><td style="text-align: right">0.2</td><td style="text-align: right">0.00728895</td></tr><tr><td style="text-align: right">...</td><td style="text-align: right">...</td></tr><tr><td style="text-align: right">1.0</td><td style="text-align: right">-0.0242965</td></tr></table><h3 id="Airfoil-Section-Definition-File-(e.g.-data/rotors/DJI-II_airfoils.csv)"><a class="docs-heading-anchor" href="#Airfoil-Section-Definition-File-(e.g.-data/rotors/DJI-II_airfoils.csv)">Airfoil Section Definition File (e.g. data/rotors/DJI-II_airfoils.csv)</a><a id="Airfoil-Section-Definition-File-(e.g.-data/rotors/DJI-II_airfoils.csv)-1"></a><a class="docs-heading-anchor-permalink" href="#Airfoil-Section-Definition-File-(e.g.-data/rotors/DJI-II_airfoils.csv)" title="Permalink"></a></h3><p>This file describes the airfoils along the blade and the paired aerodynamic data file that goes with the contour file. The contour file is a file of the geometric shape of the airfoil. The aero file is the airfoil polar, that is, the file that has the coefficient of lift, drag and moment for a given set of angles of attack for the airfoil. Note that the information is interpolated, so airfoils between two stated airfoils will be an interpolation between the two. If XFOIL is marked to run, then the aero files will not be used. As many pairs of airfoil files as desired may be used.</p><table><tr><th style="text-align: right">r/R</th><th style="text-align: right">Contour file</th><th style="text-align: right">Aero file</th></tr><tr><td style="text-align: right">0.0</td><td style="text-align: right">e856-il.csv</td><td style="text-align: right">xf-e856-il-50000-n5.csv</td></tr><tr><td style="text-align: right">0.3</td><td style="text-align: right">e63.csv</td><td style="text-align: right">xf-e63-il-50000-n5.csv</td></tr><tr><td style="text-align: right">1.0</td><td style="text-align: right">e63.csv</td><td style="text-align: right">xf-e63-il-50000-n5.csv</td></tr></table><h3 id="Airfoil-Geometry-Files-(e.g.-data/airfoils/e63.csv)"><a class="docs-heading-anchor" href="#Airfoil-Geometry-Files-(e.g.-data/airfoils/e63.csv)">Airfoil Geometry Files (e.g. data/airfoils/e63.csv)</a><a id="Airfoil-Geometry-Files-(e.g.-data/airfoils/e63.csv)-1"></a><a class="docs-heading-anchor-permalink" href="#Airfoil-Geometry-Files-(e.g.-data/airfoils/e63.csv)" title="Permalink"></a></h3><p>These files describes the geometry of the airfoil by giving x and y coordinates of the airfoil surface. These coordinates are normalized by the chord length. The order of the points should be trailing edge, upper surface, leading edge, lower surface, then trailing edge. As many coordinate pairs as desired may be used, all other points used will be interpolated.</p><table><tr><th style="text-align: right">x/c</th><th style="text-align: right">y/c</th></tr><tr><td style="text-align: right">1.0</td><td style="text-align: right">0.0</td></tr><tr><td style="text-align: right">0.99619</td><td style="text-align: right">0.00144</td></tr><tr><td style="text-align: right">...</td><td style="text-align: right">...</td></tr><tr><td style="text-align: right">1.0</td><td style="text-align: right">0.0</td></tr></table><h3 id="Airfoil-Polar-Files-(e.g.-data/airfoils/xf-e63-il-50000-n5.csv)"><a class="docs-heading-anchor" href="#Airfoil-Polar-Files-(e.g.-data/airfoils/xf-e63-il-50000-n5.csv)">Airfoil Polar Files (e.g. data/airfoils/xf-e63-il-50000-n5.csv)</a><a id="Airfoil-Polar-Files-(e.g.-data/airfoils/xf-e63-il-50000-n5.csv)-1"></a><a class="docs-heading-anchor-permalink" href="#Airfoil-Polar-Files-(e.g.-data/airfoils/xf-e63-il-50000-n5.csv)" title="Permalink"></a></h3><p>These files contains all of the airfoil coefficients of lift, drag and moment for a given set of angles of attack for the airfoil. Values that are required but not given will be interpolated. Note that the polar should match the general Reynolds number that the given section will experience. If XFOIL is set to run, this file will not be used.</p><table><tr><th style="text-align: right">Alpha</th><th style="text-align: right">Cl</th><th style="text-align: right">Cd</th><th style="text-align: right">Cdp</th><th style="text-align: right">Cm</th><th style="text-align: right">Top_Xtr</th><th style="text-align: right">Bot_Xtr</th></tr><tr><td style="text-align: right">-7.750</td><td style="text-align: right">-0.3633</td><td style="text-align: right">0.11634</td><td style="text-align: right">0.10945</td><td style="text-align: right">-0.0220</td><td style="text-align: right">1.0000</td><td style="text-align: right">0.0585</td></tr><tr><td style="text-align: right">-7.500</td><td style="text-align: right">-0.3685</td><td style="text-align: right">0.11553</td><td style="text-align: right">0.10875</td><td style="text-align: right">-0.0216</td><td style="text-align: right">1.0000</td><td style="text-align: right">0.0590</td></tr><tr><td style="text-align: right">-7.250</td><td style="text-align: right">-0.3745</td><td style="text-align: right">0.11473</td><td style="text-align: right">0.10806</td><td style="text-align: right">-0.0210</td><td style="text-align: right">1.0000</td><td style="text-align: right">0.0593</td></tr><tr><td style="text-align: right">...</td><td style="text-align: right">...</td><td style="text-align: right">...</td><td style="text-align: right">...</td><td style="text-align: right">...</td><td style="text-align: right">...</td><td style="text-align: right">...</td></tr><tr><td style="text-align: right">10.750</td><td style="text-align: right">1.3119</td><td style="text-align: right">0.10187</td><td style="text-align: right">0.09684</td><td style="text-align: right">-0.1098</td><td style="text-align: right">0.0306</td><td style="text-align: right">1.0000</td></tr></table><h2 id="Rotor-Database-Structure"><a class="docs-heading-anchor" href="#Rotor-Database-Structure">Rotor Database Structure</a><a id="Rotor-Database-Structure-1"></a><a class="docs-heading-anchor-permalink" href="#Rotor-Database-Structure" title="Permalink"></a></h2><p>The database can be found as a subdirectory of the FlowUnsteady package</p><pre><code class="language-shell">../FlowUnsteady/data</code></pre><p>It takes the form</p><table><tr><th style="text-align: right">MainFile.csv</th><th style="text-align: right">=&gt;</th><th style="text-align: right">../data/rotors</th></tr><tr><td style="text-align: right">Airfoils.csv</td><td style="text-align: right">=&gt;</td><td style="text-align: right">../data/rotors</td></tr><tr><td style="text-align: right">Blade.csv</td><td style="text-align: right">=&gt;</td><td style="text-align: right">../data/rotors</td></tr><tr><td style="text-align: right">ChordDist.csv</td><td style="text-align: right">=&gt;</td><td style="text-align: right">../data/rotors</td></tr><tr><td style="text-align: right">HeightDist.csv</td><td style="text-align: right">=&gt;</td><td style="text-align: right">../data/rotors</td></tr><tr><td style="text-align: right">PitchDist.csv</td><td style="text-align: right">=&gt;</td><td style="text-align: right">../data/rotors</td></tr><tr><td style="text-align: right">SweepDist.csv</td><td style="text-align: right">=&gt;</td><td style="text-align: right">../data/rotors</td></tr><tr><td style="text-align: right">AirfoilGeo_1.csv</td><td style="text-align: right">=&gt;</td><td style="text-align: right">../data/airfoils</td></tr><tr><td style="text-align: right">AirfoilGeo_2.csv</td><td style="text-align: right">=&gt;</td><td style="text-align: right">../data/airfoils</td></tr><tr><td style="text-align: right">AirfoilGeo_n.csv</td><td style="text-align: right">=&gt;</td><td style="text-align: right">../data/airfoils</td></tr><tr><td style="text-align: right">AirfoilPol_1.dat</td><td style="text-align: right">=&gt;</td><td style="text-align: right">../data/airfoils</td></tr><tr><td style="text-align: right">AirfoilPol_2.dat</td><td style="text-align: right">=&gt;</td><td style="text-align: right">../data/airfoils</td></tr><tr><td style="text-align: right">AirfoilPol_n.dat</td><td style="text-align: right">=&gt;</td><td style="text-align: right">../data/airfoils</td></tr></table><p>You can point the solver to any data path, but within that data directory, you must have your files organized as above, with a rotors and airfoils subdirectory and the appropriate files in the appropriate locations.</p><h2 id="Creating-Custom-Database-Files"><a class="docs-heading-anchor" href="#Creating-Custom-Database-Files">Creating Custom Database Files</a><a id="Creating-Custom-Database-Files-1"></a><a class="docs-heading-anchor-permalink" href="#Creating-Custom-Database-Files" title="Permalink"></a></h2><p>The following is an example script for creating all the necessary files in the rotor sub-directory.  Note, however, that you need to provide your own geometry and polar files to populate the airfoils sub-directory.  How you produce those is up to you, but as far as the polars are concerned, our format matches that of the XFoil output files.</p><pre><code class="language-julia">## ----- Define Rotor Parameters ----- ##
RPM     = 4860
rho     = 1.225     # (kg/m^3) air density
B       = 3         # Number of blades
Rhub    = 0.212     # (m) Radius of hub
Rtip    = 1.0       # (m) Radius of blade tip
ctip    = 0.05      # (m) tip chord length
croot   = .15       # (m) chord length at hub junction
r       = range(Rhub, Rtip, length=100)         #radial stations
rs      = range(Rhub, Rtip, length=100)./Rtip   #normalized radial stations

#define chord distribution
chord = zeros(length(r))
for i=1:length(r)
    if r[i] &lt;= 0.5*Rtip
        chord[i] = croot
    else
        chord[i] = ctip + sqrt(1.0-(2*r[i]-1)^2.0)/10.0
    end
end

chorddist = hcat(rs,chord)  #chord distribution

#define pitch distribution
a1, a2  = 10, 30
r1, r2  = 1.0, 0.225
b       = (a2 - a1) / (1/r2 - 1/r1)
a       = a1 - b/r1

th0     = 0.33200247373618086
dthdr   = -0.28443616547899253

pitchdist   = hcat(rs, th0 + dthdr.*rs)     #pitch distribution

#define remaining distributions
Xles        = zeros(length(rs))             #leading edge distribution
sweepdist   = hcat(rs, Xles )               #sweep distribution
heightdist  = hcat(rs, zeros(length(rs)) )  #height distribution



## ----- Name Files ----- ##
airfoil_file        = &quot;airfoils/naca0012.csv&quot;
data_path1          = &quot;data/rotors/&quot;
save_path1          = &quot;rotors&quot;
run_name            = &quot;rotoroldformat_try2&quot;

rotor_filename      = &quot;rotorfile.csv&quot;
blade_filename      = &quot;blade.csv&quot;
airfoils_filename   = &quot;airfoils.csv&quot;
hdist_filename      = &quot;heightdist.csv&quot;
sdist_filename      = &quot;sweepdist.csv&quot;
pdist_filename      = &quot;pitchdist.csv&quot;
cdist_filename      = &quot;chorddist.csv&quot;



## ---- Write Files ----- ##
rotorstring = &quot;property,file,description
Rtip,$Rtip, (m) Radius of blade tip
Rhub,$Rhub, (m) Radius of hub
B,$B, Number of blades
blade,$blade_filename, Blade file&quot;

# Main File
f = open(joinpath(data_path1, rotor_filename), &quot;w&quot;)
write(f, rotorstring)
close(f)

bladestring = &quot;property,file,description
chorddist,$cdist_filename, Chord distribution
pitchdist,$pdist_filename, Pitch distribution
sweepdist,$sdist_filename, LE sweep distribution
heightdist,$hdist_filename, LE height distribution
airfoil_files,$airfoils_filename, Airfoil distribution
spl_k,4,  Spline order
spl_s,5.0e-7, Spline smoothing&quot;

# Blade File
f = open(joinpath(data_path1, blade_filename), &quot;w&quot;)
write(f, bladestring)
close(f)

# Chord Distribution File
chordstring = &quot;r/R,c/R\n&quot;
f = open(joinpath(data_path1, cdist_filename), &quot;w&quot;)
write(f, chordstring)
for i=1:length(r)
    write(f,&quot;$(chorddist[i,1]),$(chorddist[i,2])\n&quot;)
end
close(f)

# Height Distribution File
heightstring = &quot;r/R,z/R  (height of leading edge from top face of hub)\n&quot;
f = open(joinpath(data_path1, hdist_filename), &quot;w&quot;)
write(f, heightstring)
for i=1:length(r)
    write(f,&quot;$(heightdist[i,1]),$(heightdist[i,2])\n&quot;)
end
close(f)

# Pitch Distribution File
pitchstring = &quot;r/R,twist (deg)\n&quot;
f = open(joinpath(data_path1, pdist_filename), &quot;w&quot;)
write(f, pitchstring)
for i=1:length(r)
    write(f,&quot;$(pitchdist[i,1]),$(pitchdist[i,2])\n&quot;)
end
close(f)

#Sweep (Leading Edge) Distribution File
sweepstring = &quot;r/R,twist (deg)\n&quot;
f = open(joinpath(data_path1, sdist_filename), &quot;w&quot;)
write(f, sweepstring)
for i=1:length(r)
    write(f,&quot;$(sweepdist[i,1]),$(sweepdist[i,2])\n&quot;)
end
close(f)

# Airfoil Section Definition File
airfoilstring = &quot;r/R,Contour file,Aero file
0.0,naca0012.csv,naca0012polarabrev.csv
1.0,naca0012.csv,naca0012polarabrev.csv&quot;
f = open(joinpath(data_path1, airfoils_filename), &quot;w&quot;)
write(f, airfoilstring)
close(f)</code></pre></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../define-complex-systems/">« How to Define Vehicle Systems</a><a class="docs-footer-nextpage" href="../define-kinematic-maneuvers/">How to Define Kinematic Maneuvers »</a></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Friday 17 July 2020 17:12">Friday 17 July 2020</span>. Using Julia version 1.4.2.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
